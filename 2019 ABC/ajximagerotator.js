// Ajatix Image/Banner Rotator
// Copyright (C) 2011-2014 Ajatix. All rights reserved.
// http://www.ajatix.com
(function(){var d=document, de=d.documentElement;function createDiv(id, parent){var div=d.createElement('div');if(id!='')div.id=id;parent.appendChild(div);return div;}function onLoad(){var hasTouch=('ontouchstart' in window);var listIR=new Array();var bResizing=false;var resizingTimer=null;var sTouch={},eTouch={},isOurTouch='undef',startUl,on='AJXIRDeDOFBD';function showPics(id,num){var m=listIR[id];if(m.n===num)return true;if(m.ncur!=-1){StopAnimation(m);if(m.p==0){prepareFade(m, m.imgs[num].src);}else{prepareFade(m, m.imgs[num].src);}m.divf.style.display='block';}m.n=num;if(m.ncur!=-1){if(!m.animating){showFade(m, m.d);}}else{ShowArrows(m);}m.ncur=num;};function SetCurDataDiv(o){if(o.imgs.length>0){var itm=o.imgs[o.n==-1?0:o.n];var bLin=(itm.link[itm.link.length-1]=='#'?false:true);if(bLin){o.cura.href=itm.link;o.cura.target=itm.target;o.curimg.src='';o.curimg.src=itm.src;}else{o.curimgdiv.src='';o.curimgdiv.src=itm.src;}o.divbtnwrap.style.cursor=(bLin?'pointer':'default');}}function SetCurSlide(o){if(o.imgs.length>0){var n=(o.n==-1?0:o.n);var is=o.slideimgs;is[1].src=o.imgs[n].src;is[1].iN=n;var np=n, nn=n;if(n>0){np=n-1;}else{np=o.imgs.length-1;}if(n<o.imgs.length-1){nn=n+1;}else{nn=0;}is[0].src=o.imgs[np].src;is[0].iN=np;is[2].src=o.imgs[nn].src;is[2].iN=nn;o.slidediv.style.left=-o.divw.offsetWidth+'px';}}function StopAnimation(m){if(m.animating){if(m.slices){for(var i=0;i<m.slices.length;++i){if(m.slices[i].mtimer)clearInterval(m.slices[i].mtimer);if(m.slices[i].ftimer)clearTimeout(m.slices[i].ftimer);if(m.slices[i].timer)clearInterval(m.slices[i].timer);if(m.slices[i].simg.mtimer)clearInterval(m.slices[i].simg.mtimer);}}SetCurDataDiv(m);m.animating=false;}}function autoShow(){for(var id in listIR){var m=listIR[id];autoShowOne(m);}}function autoShowOne(m,pn){if(pn){pn=(pn>=1?1:(pn<=-1?-1:1));}var iN;var iA=(pn?pn:1);if(!pn&&m.n==m.liPics.length-1){m.n=-1;}iN=m.n+iA;if(iN>=0&&iN<=m.liPics.length-1){showCurBtn(m, iN);showPics(m.id,iN);}}function createNavigationBar(o, div){o.btndiv=createDiv('', div);o.btndiv.className=on+'btn '+on+'clearfix';var s='<ul>';for(var l=0;l<cnt;l++){s+='<li>'+'</li>'}s+='</ul>';o.btndiv.innerHTML=s;var newHTML='<div class="'+on+'left"></div><div class="'+on+'navpics">'+o.btndiv.innerHTML+'</div><div class="'+on+'right"></div>';o.btndiv.innerHTML=newHTML;o.ulBtn=o.btndiv.getElementsByTagName('ul')[0];o.liBtn=o.ulBtn.getElementsByTagName('li');o.btnpicdiv=getElementsByClassName(o.btndiv, 'div', on+'navpics')[0];var s=o.ulBtn.style;s.position='relative';s.left='0px';s.width=o.liBtn.length*26+'px';var dvs=o.btndiv.getElementsByTagName('div');for(var k=0;k<dvs.length;++k){if(dvs[k].className==on+'right'){o.arr=dvs[k];dvs[k].obj=o;function evntAR(e){var o=this.obj;var evt=e||window.event;evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=true;var wh=parseInt(o.ulBtn.style.width)-(parseInt(o.ulBtn.style.left)*(-1)+o.Cvis*26);moveTo([[o.ulBtn,{left:parseInt(o.ulBtn.style.left)-Math.min(((o.Cvis==1)?1:(o.Cvis-1))*26, wh)}]], 500, function(){ShowArrows(o);});return false;}if(hasTouch){dvs[k].ontouchstart=evntAR;}else{dvs[k].onmouseover=evntAR;dvs[k].onclick=evntAR;}}else if(dvs[k].className==on+'left'){o.arl=dvs[k];dvs[k].obj=o;function evntAL(e){var o=this.obj;var evt=e||window.event;evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=true;var wh=parseInt(o.ulBtn.style.left)*(-1);moveTo([[o.ulBtn,{left:parseInt(o.ulBtn.style.left)+Math.min(((o.Cvis==1)?1:(o.Cvis-1))*26, wh)}]], 500, function(){ShowArrows(o);});return false;}if(hasTouch){dvs[k].ontouchstart=evntAL;}else{dvs[k].onmouseover=evntAL;dvs[k].onclick=evntAL;}}}function evntBtn(e){var o=this;if(hasTouch){stopAutoplay(o._id);}var evt=e||window.event;if(hasTouch){evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=true;}if(this.className=='current')return false;o.timer_s=setTimeout(function(){unselBtn(o._id);o.className='current';showPics(o._id,o.I);if(hasTouch){startAutoplay(o._id);}},(hasTouch?0:300));return false;};for(var k=0;k<o.liBtn.length;k++){o.liBtn[k].I=k;o.liBtn[k]._id=o.id;if(hasTouch){o.liBtn[k].ontouchstart=evntBtn;}else{o.liBtn[k].onclick=function(e){var evt=e||window.event;evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=true;return false;};o.liBtn[k].onmouseover=evntBtn;}if(!hasTouch){o.liBtn[k].onmouseout=function(){if(this.timer_s)clearTimeout(this.timer_s);};}}}function showNavigationBar(m){var bShowScroll=(m.liBtn.length>GetCountVisabledBtn(m, false));m.Cvis=GetCountVisabledBtn(m, bShowScroll);var Wbtn=m.Cvis*26;m.btnpicdiv.style.width=Wbtn+'px';var Wbar=Wbtn+(bShowScroll?30:0)+4;var k=m.divw.offsetWidth/779;m.btndiv.style.right=Math.round(5*k)+'px';m.divbtnwrap.style.bottom=Math.round(5*k)+'px';m.arr.style.display=(bShowScroll?'block':'none');m.arl.style.display=(bShowScroll?'block':'none');showCurBtn(m);}function GetNavOffset(m){return Math.round(5*m.divw.offsetWidth/779);}function GetCountVisabledBtn(m, bSS){return Math.min(Math.floor((m.divw.offsetWidth-GetNavOffset(m)-(bSS?(15+15):0)-4)/26),m.liBtn.length);}function showCurBtn(m, iN){unselBtn(m.id);if(iN===undefined){iN=(m.ncur==-1?0:m.ncur);}m.liBtn[iN].className='current';if(m.Cvis<m.liBtn.length){var lft=parseInt(m.ulBtn.style.left),Pos=(iN)*26+lft,End=(m.Cvis-1)*26;if(Pos<0){moveTo([[m.ulBtn,{left:lft-Pos}]], 200, function(){ShowArrows(m);});}else if(Pos>End){moveTo([[m.ulBtn,{left:lft-(Pos-End)}]], 200, function(){ShowArrows(m);});}else{var L1=m.Cvis*26-lft,Lbtns=m.liBtn.length*26;if(L1>Lbtns&&lft<0){lft+=L1-Lbtns;lft=(lft>0?0:lft);moveTo([[m.ulBtn,{left:lft}]], 200, function(){ShowArrows(m);});}else{ShowArrows(m);}}}else{m.ulBtn.style.left='0px';}}function createSliderElements(m){m.slices=new Array();m.divf=d.createElement('div');m.divf.className=on+'forwardpic';m.divf.style.display='none';m.animating=false;m.divpics=getElementsByClassName(m.divw, 'div', on+'pics')[0];m.curdiv=d.createElement('div');m.curdiv.className=on+'curdiv';m.curdiv.style.display='none';m.curadiv=d.createElement('div');m.curadiv.className=on+'cura';m.cura=d.createElement('a');m.cura.className=on+'cura';m.curimg=d.createElement('img');m.curimg.className=on+'curimg';m.curimg._id=m.id;m.curimgdiv=d.createElement('img');m.curimgdiv.className=on+'curimg';m.curimgdiv._id=m.id;m.cura.appendChild(m.curimg);m.curadiv.appendChild(m.curimgdiv);m.curdiv.appendChild(m.cura);m.curdiv.appendChild(m.curadiv);m.divbtnwrap=d.createElement('div');m.divbtnwrap.className=on+'btnwrap';m.divw.appendChild(m.divbtnwrap);m.divbtnwrap._id=m.id;m.divbtnwrap.onclick=function(){var m=listIR[this._id];var itm=m.imgs[m.n==-1?0:m.n];if(itm.link[itm.link.length-1]=='#'){return false;}location=itm.link;};m.divpics.appendChild(m.curdiv);m.divpics.appendChild(m.divf);m.slidediv=d.createElement('div');m.slidediv.className=on+'slidediv '+on+'clearfix';m.slideimgs=new Array();for(var j=0;j<3;++j){m.slideimgs[j]=d.createElement('img');m.slideimgs[j].className=on+'slideimg';m.slidediv.appendChild(m.slideimgs[j]);}m.slidediv.style.display='none';m.divpics.appendChild(m.slidediv);m.curimgdiv.onload=m.curimg.onload=function(){var m=listIR[this._id];var itm=m.imgs[m.n==-1?0:m.n];var bLin=(itm.link[itm.link.length-1]=='#'?false:true);if(bLin){m.cura.style.display='block';m.curadiv.style.display='none';}else{m.curadiv.style.display='block';m.cura.style.display='none';}m.slidediv.style.display='none';if(m.divf)m.divf.style.display='none';SetCurSlide(m);};m.p=1;m.d=0;createNavigationBar(m, m.divbtnwrap);SetSizes(m);SetCurDataDiv(m);}function ShowArrows(m){if(m.arr){m.arr.className=on+'right'+(parseInt(m.ulBtn.style.left)<=(m.Cvis-m.liPics.length)*26?' '+on+'rightd':'');}if(m.arl){m.arl.className=on+'left'+(parseInt(m.ulBtn.style.left)==0?' '+on+'leftd':'');}}function addSlices(o){StopAnimation(o);if(o.slices){for(var k=0;k<o.slices.length;++k){o.divf.removeChild(o.slices[k]);}o.slices=[];}var divw=o.divw.offsetWidth;var divh=o.divpics.offsetHeight;var w=divw, i=0, x=0;var dh, dw;var ws=w;if(ws>divw)ws=divw;var hs=divh;if(hs>divh)hs=divh;while(w>0){var h=divh, y=0;while(h>0){var s=d.createElement('div');var ss=s.style;ss.position='absolute';ss.overflow='hidden';ss.zIndex=1;s.x=x;s.y=y;s.PosLeft=x*ws;s.PosTop=y*hs;dw=(w>ws?ws:w);dh=(h>hs?hs:h);s.w=dw;s.h=dh;s.ws=ws;ss.width=dw+'px';ss.height=dh+'px';var si=d.createElement('img');ss=si.style;ss.display='block';ss.position='absolute';ss.width=divw+'px';ss.height=divh+'px';ss.maxWidth='none';ss.left=-s.PosLeft+'px';ss.top=-s.PosTop+'px';s.appendChild(si);s.simg=si;o.slices[i++]=s;o.divf.appendChild(s);h-=dh;++y;}w-=dw;++x;}}function showFade(o, dir){var getFunc=function(i, o, dir){var fn=function(){if(o.slices.length==0)return;fadeTo(o.slices[i], 1, 1000, dir==0&&i==o.slices.length-1||dir==1&&i==0?function(){o.d=-o.d+1;SetCurDataDiv(o);o.animating=false;}:null);};return fn;};o.animating=true;for(var i=0;i<o.slices.length;++i){o.slices[i].ftimer=setTimeout(getFunc(i, o, dir), 0);}}function prepareFade(o, img){for(var i=0;i<o.slices.length;++i){var s=o.slices[i].style;var si=o.slices[i].simg;si.src=img;if(!o.animating){s.top='0px';s.left=i*o.slices[i].ws+'px';s.right='';s.bottom='';s.width=o.slices[i].w+'px';s.height=o.divpics.offsetHeight+'px';si.style.left=-i*o.slices[i].ws+'px';s.opacity=0;s.filter='alpha(opacity=0)';}}}function unselBtn(id){for(var k=0;k<listIR[id].liBtn.length;k++){if(listIR[id].liBtn[k].className=='current'){listIR[id].liBtn[k].className='';}}}var divs=getElementsByClassName(d, 'div', on);for(var i=0;i<divs.length;i++){var obj=new Object;obj.autoT=null;obj.n=-1;obj.ncur=-1;obj.id='id'+i;divs[i]._id=obj.id;obj.divw=divs[i];obj.liPics=new Array();obj.imgs=new Array();obj.ulPics=getElementsByClassName(divs[i],'ul', on+'ul')[0];{var liPics=obj.ulPics.getElementsByTagName('li');var iLi=0;for(var j=0;j<liPics.length;j++){if(liPics[j].className.indexOf(on+'li')>=0){obj.liPics[iLi++]=liPics[j];}}}var cnt=obj.liPics.length;for(var j=0;j<cnt;j++){var itm=new Object();var a=obj.liPics[j].getElementsByTagName('a')[0];itm.link=a.href;var img=obj.liPics[j].getElementsByTagName('img')[0];itm.src=img.src;itm.alt=img.alt;itm.target=a.target;itm.rc=(itm.link[itm.link.length-1]=='#'?true:false);obj.imgs[j]=itm;}listIR[obj.id]=obj;if(!hasTouch){divs[i].onmouseover=function(){stopAutoplay(this._id);};divs[i].onmouseout=function(){startAutoplay(this._id);};}if(hasTouch){var evt=window.navigator.msPointerEnabled ? 'MSPointerDown':'touchstart';addEventListener(divs[i], evt, StartTouch);evt=window.navigator.msPointerEnabled ? 'MSPointerUp':'touchend';addEventListener(divs[i], evt, EndTouch);evt=window.navigator.msPointerEnabled ? 'MSPointerMove':'touchmove';addEventListener(divs[i], evt, MoveTouch);}}addEventListener(window, 'resize', ResizeAll);addEventListener(window, 'pagehide', StartPlayAll);initShow();function initShow(){for(var id in listIR){var m=listIR[id];if(m.imgs.length>0){m.testimg=d.createElement('img');m.testimg.obj=m;m.testimg.onload=function(){var m=this.obj;createSliderElements(m);m.curdiv.style.display='block';autoShowOne(m);startAutoplay(m.id);};m.testimg.src=m.imgs[0].src;}}}function SetSizes(m){StopAnimation(m);m.curimgdiv.style.width=m.curimg.style.width=m.divpics.offsetWidth+'px';m.curimgdiv.style.height=m.curimg.style.height=m.divpics.offsetHeight+'px';m.slidediv.style.height=m.divpics.offsetHeight+'px';m.slidediv.style.width=m.divpics.offsetWidth*3+'px';for(var i=0;i<3;++i){m.slideimgs[i].style.height=m.divpics.offsetHeight+'px';m.slideimgs[i].style.width=m.divpics.offsetWidth+'px';}showNavigationBar(m);addSlices(m);}function ResizeAll(){for(var id in listIR){stopAutoplay(id);}if(bResizing){if(resizingTimer!=null){clearTimeout(resizingTimer);}resizingTimer=setTimeout(ResizeAll, 200);return;}bResizing=true;for(var id in listIR){var m=listIR[id];SetSizes(m);startAutoplay(id);}bResizing=false;}function stopAutoplay(id){var m=listIR[id];if(m.autoT!=null){clearInterval(m.autoT);m.autoT=null;}}function startAutoplay(id){var m=listIR[id];if(m.autoT==null){var getFn=function(m){var fn=function(){autoShowOne(m);};return fn;};m.autoT=setInterval(getFn(m),4050);}}function StartPlayAll(event){for(var id in listIR){startAutoplay(id);}}function StartTouch(event){isOurTouch='undef';stopAutoplay(this._id);sTouch.x=event.touches[0].pageX;sTouch.y=event.touches[0].pageY;for(var i in sTouch)eTouch[i]=sTouch[i];var m=listIR[this._id];startUl=parseInt(m.slidediv.style.left);}function EndTouch(event){var dx=eTouch.x-sTouch.x,dy=eTouch.y-sTouch.y,d1=(dy>=0?dy:-dy),delta=dx,dd=(delta>0?delta:-delta);for(var i in sTouch)eTouch[i]=sTouch[i];if(dd>5||d1>5){event.preventDefault ? event.preventDefault():(event.returnValue=false);}var id=this._id;if(isOurTouch!='our'||delta==0){startAutoplay(id);return;}var m=listIR[id];if(dd>m.divpics.offsetWidth*0.2){m.n=m.slideimgs[(delta>0?0:2)].iN;m.ncur=m.n;showCurBtn(m, m.ncur);moveTo([[m.slidediv,{left:(delta>0?0:-2*m.divpics.offsetWidth)}]],100, function(){SetCurDataDiv(m);});}else{moveTo([[m.slidediv,{left:startUl}]],100, function(){m.slidediv.style.display='none';});}startAutoplay(id);if(dd>5){event.stopPropagation();return false;}}function MoveTouch(event){var x=event.touches[0].pageX,y=event.touches[0].pageY;eTouch.x=x;eTouch.y=y;while(isOurTouch=='undef'){var dx=x-sTouch.x,dy=y-sTouch.y;dx=(dx>=0?dx:-dx);dy=(dy>=0?dy:-dy);isOurTouch=(dx>=dy?'our':'sys');}if(isOurTouch=='sys'){return;}event.preventDefault ? event.preventDefault():(event.returnValue=false);var m=listIR[this._id],d1=x-sTouch.x,md=(d1>0?d1:-d1);m.slidediv.style.display='block';if(md<m.divpics.offsetWidth){m.slidediv.style.left=startUl+d1+'px';}else{m.slidediv.style.left=(d1>0?0:-2*m.divpics.offsetWidth)+'px';m.n=m.slideimgs[(d1>0?0:2)].iN;m.ncur=m.n;showCurBtn(m, m.ncur);SetCurDataDiv(m);m.slidediv.style.display='block';sTouch.x=x;}}function moveTo(pairs, speed, f){var oldpos=new Array;for(var i=0;i<pairs.length;i++){oldpos[i]=new Object;for(var n in pairs[i][1])oldpos[i][n]=parseInt(pairs[i][0].style[n]);}var tstart=new Date;if(!speed)speed=1000;var e=pairs[0][0];if(e.mtimer)clearInterval(e.mtimer);e.mtimer=setInterval(function(){var s=(new Date-tstart)/speed;if(s>1)s=1;var v=((-Math.cos(s*Math.PI)/2)+0.5);for(var i=0;i<pairs.length;i++){for(var n in pairs[i][1])pairs[i][0].style[n]=Math.floor((pairs[i][1][n]-oldpos[i][n])*v)+oldpos[i][n]+'px';}if(s==1){clearInterval(e.mtimer);if(f)f();}}, 1);};function fadeTo(e, opacity, speed, f){var so=parseFloat(e.style.opacity);var tstart=new Date;if(!speed)speed=500;if(e.timer)clearInterval(e.timer);e.timer=setInterval(function(){var s=(new Date-tstart)/speed;if(s>1)s=1;var v=so+(opacity-so)*s;e.style.opacity=v;e.style.filter='alpha(opacity='+v*100+')';e.style.display='block';if(s==1){clearInterval(e.timer);if(opacity==1)e.style.filter='';if(opacity==0){e.style.display='none';e.style.opacity=0;e.style.filter='alpha(opacity=0)';}if(f)f();}}, 15);}};function addEventListener(e, event, f){if(e.addEventListener)e.addEventListener(event, f, false);else e.attachEvent('on'+event, f);}function getElementsByClassName(b, tag, className){var tags=b.getElementsByTagName(tag);var ar=[];for(var i=0;i<tags.length;++i){var classes=tags[i].className.split(' ');for(var j=0;j<classes.length;++j){if(classes[j]==className){ar.push(tags[i]);break;}}}return ar;}function addOnReady(f,fu){var isReady=false,ready=function(){if(!isReady){isReady=true;f();};};if(d.addEventListener){d.addEventListener('DOMContentLoaded',ready,false);window.addEventListener('load',ready,false);}if(window.attachEvent)window.attachEvent('onload',ready);if(d.documentElement.doScroll&&window==top){(function(){if(!isReady){try{d.documentElement.doScroll('left');}catch(E){setTimeout(arguments.callee,0);return;}ready();}})()}}addOnReady(onLoad, onLoad);})();